{"version":3,"sources":["assets/icons/loading.svg","pages/login/components/Snackbar/Snackbar.tsx","pages/edit-profile/EditProfile.tsx","pages/edit-profile/components/Form/Form.tsx","hooks/Update-profile-hook.tsx","hooks/Photo-update-hook.tsx"],"names":["_g","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLoading","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","id","d","ForwardRef","Snackbar","message","setMessage","timer","useEffect","clearTimeout","className","onClick","FormComponent","user","updateUser","loading","useForm","register","handleSubmit","errors","reset","fullName","phone","description","email","onSubmit","type","placeholder","name","disabled","provider","required","value","pattern","environments","email_pattern","number_pattern","useUpdateUser","token","localStorage","getItem","useParams","update","body","a","axios","put","api_uri","headers","Authorization","data","usePhoto","progressRef","useRef","useState","progress","setProgress","handleProgress","e","p","loaded","total","updatePhoto","file","formData","FormData","get","append","signature","api_key","timestamp","current","classList","add","post","onUploadProgress","res","avatar","secure_url","EditProfilePage","UseUser","getUser","setLoading","inputFile","setTimeout","handleFile","files","remove","channel","bind","console","log","unbind","Header","click","src","alt","style","display","onChange","Form","width"],"mappings":"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","file":"static/js/10.5792fc91.chunk.js","sourcesContent":["var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoading(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    \"data-name\": \"Looding 19\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M29.89 15.81a2.51 2.51 0 1 0-5 .45 9.65 9.65 0 0 1-1.68 6.34 10.24 10.24 0 0 1-5.74 4 10.71 10.71 0 0 1-7.38-.7 11.44 11.44 0 0 1-5.48-5.62A12.07 12.07 0 0 0 9.46 27 12.58 12.58 0 0 0 17.9 29a13.31 13.31 0 0 0 8.18-4 14 14 0 0 0 3.81-8.75v-.08A2.29 2.29 0 0 0 29.89 15.81zM7.11 15.74A9.65 9.65 0 0 1 8.79 9.4a10.24 10.24 0 0 1 5.74-4 10.71 10.71 0 0 1 7.38.7 11.44 11.44 0 0 1 5.48 5.62A12.07 12.07 0 0 0 22.54 5 12.58 12.58 0 0 0 14.1 3 13.31 13.31 0 0 0 5.92 7a14 14 0 0 0-3.81 8.75v.08a2.29 2.29 0 0 0 0 .37 2.51 2.51 0 1 0 5-.45z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading);\nexport default __webpack_public_path__ + \"static/media/loading.66849290.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect } from \"react\";\nimport { SnackbarProps } from \"../../../../models/SnackbarProps.model\";\n\nconst Snackbar = ({ message, setMessage, timer }: SnackbarProps) => {\n  const closeSnack = () => {\n    if (timer) {\n      setMessage(\"\");\n      clearTimeout(timer);\n    } else {\n      setMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n    };\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <div className={message ? \"snackbar on\" : \"snackbar\"}>\n      <span className=\"snack_message\">{message}</span>\n      <button className=\"btn_close_snack\" onClick={closeSnack}>\n        Close\n      </button>\n    </div>\n  );\n};\n\nexport default Snackbar;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport UseUser from \"../../hooks/User-hook\";\nimport HeaderComponent from \"../home/components/Header/Header\";\nimport { ReactComponent as CameraSvg } from \"../../assets/icons/logo_movile.svg\";\nimport Form from \"./components/Form/Form\";\nimport Snackbar from \"../login/components/Snackbar/Snackbar\";\nimport { channel } from \"../../app\";\nimport useUpdateUser from \"../../hooks/Update-profile-hook\";\nimport usePhoto from \"../../hooks/Photo-update-hook\";\n\nlet timer: NodeJS.Timer;\n\nconst EditProfilePage = () => {\n  const { user, getUser } = UseUser();\n  const { update } = useUpdateUser();\n  const { progress, updatePhoto, progressRef } = usePhoto();\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const inputFile = useRef<HTMLInputElement>(null);\n\n  const updateUser = async (body: any) => {\n    setLoading(true);\n    if (timer) {\n      clearTimeout(timer);\n    }\n    await update(body);\n\n    setLoading(false);\n\n    timer = setTimeout(() => {\n      setMessage(\"\");\n      clearTimeout(timer);\n    }, 3000);\n  };\n\n  const handleFile = async (e: any) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    await updatePhoto(file);\n    progressRef.current?.classList.remove(\"on\");\n  };\n\n  useEffect(() => {\n    channel.bind(\"user-updated\", ({ message }: any) => {\n      console.log(message);\n      setMessage(message);\n    });\n\n    channel.bind(\"user-photo-updated\", async () => {\n      console.log(\"Here\");\n      await getUser();\n      setMessage(\"User photo changed\");\n      timer = setTimeout(() => {\n        setMessage(\"\");\n        clearTimeout(timer);\n      }, 3000);\n    });\n\n    getUser();\n\n    return () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      channel.unbind();\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"edit_profile_page fadeIn\">\n      <HeaderComponent user={user} />\n      <div className=\"subcontainer_edit_profile\">\n        <h1 className=\"title_edit_profile\">EDIT PROFILE</h1>\n        <div className=\"form_container\">\n          <div\n            className=\"image_profile_container\"\n            onClick={() => inputFile.current?.click()}\n          >\n            <img src={user?.avatar} alt=\"\" />\n            <div className=\"hover_content\">\n              <CameraSvg />\n              <p className=\"hover_text\">CHANGE PHOTO</p>\n            </div>\n          </div>\n          <input\n            type=\"file\"\n            name=\"\"\n            id=\"\"\n            style={{ display: \"none\" }}\n            ref={inputFile}\n            onChange={handleFile}\n          />\n          <Form user={user} updateUser={updateUser} loading={loading} />\n        </div>\n      </div>\n      <Snackbar message={message} timer={timer} setMessage={setMessage} />\n      <div className=\"progress_container\" ref={progressRef}>\n        <div className=\"progress_bar_container\">\n          <h1 className=\"progress_title\">Uploading</h1>\n          <div className=\"bar\">\n            <div className=\"progress\" style={{ width: `${progress}%` }}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditProfilePage;\n","import React, { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { environments } from \"../../../../environments\";\nimport { FormUpdateProfileProps } from \"../../../../models/form-update-profile\";\nimport { ReactComponent as LoadingSVG } from \"../../../../assets/icons/loading.svg\";\n\nconst FormComponent = ({\n  user,\n  updateUser,\n  loading,\n}: FormUpdateProfileProps) => {\n  const { register, handleSubmit, errors, reset } = useForm();\n\n  useEffect(() => {\n    reset({\n      fullName: user?.fullName,\n      phone: user?.phone,\n      description: user?.description,\n      email: user?.email,\n    });\n\n    return () => {};\n  }, [user, reset]);\n\n  return (\n    <form className=\"form_update_profile\" onSubmit={handleSubmit(updateUser)}>\n      <div className=\"controller_update_profile\">\n        <input\n          type=\"text\"\n          placeholder=\"Full Name\"\n          name=\"fullName\"\n          disabled={user?.provider !== \"form\" ? true : false}\n          className={user?.provider !== \"form\" ? \"disabled\" : \"\"}\n          ref={register({\n            required: {\n              value: true,\n              message: \"Please enter your full name\",\n            },\n          })}\n        />\n        <p className=\"message_error\">{errors.fullName?.message}</p>\n      </div>\n\n      <div className=\"controller_update_profile\">\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          name=\"email\"\n          disabled={user?.provider !== \"form\" ? true : false}\n          className={user?.provider !== \"form\" ? \"disabled\" : \"\"}\n          ref={register({\n            required: {\n              value: true,\n              message: \"Please enter your email\",\n            },\n            pattern: {\n              value: environments.email_pattern,\n              message: \"Email invalid\",\n            },\n          })}\n        />\n        <p className=\"message_error\">{errors.email?.message}</p>\n      </div>\n\n      <div className=\"controller_update_profile\">\n        <input\n          type=\"text\"\n          placeholder=\"Phone\"\n          name=\"phone\"\n          ref={register({\n            required: {\n              value: true,\n              message: \"Please enter your phone\",\n            },\n            pattern: {\n              value: environments.number_pattern,\n              message: \"Just Numbers\",\n            },\n          })}\n        />\n        <p className=\"message_error\">{errors.phone?.message}</p>\n      </div>\n\n      <div className=\"controller_area_update_profile\">\n        <textarea\n          placeholder=\"About You\"\n          name=\"description\"\n          ref={register({\n            required: {\n              value: true,\n              message: \"Please enter your description\",\n            },\n          })}\n        />\n        <p className=\"message_error\">{errors.description?.message}</p>\n      </div>\n\n      <button className=\"btn_update_user\" type=\"submit\">\n        {loading ? <LoadingSVG /> : null}\n        Update\n      </button>\n    </form>\n  );\n};\n\nexport default FormComponent;\n","import axios from \"axios\";\nimport { useParams } from \"react-router\";\nimport { environments } from \"../environments\";\nimport { UserProfile } from \"../models/user-profile\";\n\nconst useUpdateUser = () => {\n  const token = localStorage.getItem(\"t1ks1ehn\");\n  const { id } = useParams() as any;\n\n  const updateProfile = async (body: UserProfile) => {\n    const { data } = await axios.put(\n      `${environments.api_uri}/update/${id}`,\n      body,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n\n    return data;\n  };\n\n  return { update: updateProfile };\n};\n\nexport default useUpdateUser;\n","import axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport { environments } from \"../environments\";\nimport useUpdateUser from \"./Update-profile-hook\";\n\nconst usePhoto = () => {\n  const { update } = useUpdateUser();\n  const progressRef = useRef<HTMLDivElement>(null);\n  const [progress, setProgress] = useState(0);\n\n  const handleProgress = (e: any) => {\n    const p = (e.loaded * 100) / e.total;\n    setProgress(p);\n  };\n\n  const updatePhoto = async (file: any) => {\n    setProgress(0);\n    const formData = new FormData();\n    try {\n      const { data } = await axios.get(`${environments.api_uri}/signature`);\n      formData.append(\"file\", file);\n      formData.append(\"signature\", data.signature);\n      formData.append(\"api_key\", data.api_key);\n      formData.append(\"timestamp\", data.timestamp);\n      progressRef.current?.classList.add(\"on\");\n      const res = await axios.post(\n        \"https://api.cloudinary.com/v1_1/dder8kjda/image/upload\",\n        formData,\n        { onUploadProgress: handleProgress }\n      );\n      const avatar = res.data.secure_url;\n      await update({ avatar });\n    } catch (err) {\n      throw err.message;\n    }\n  };\n\n  return { progress, updatePhoto, progressRef };\n};\n\nexport default usePhoto;\n"],"sourceRoot":""}